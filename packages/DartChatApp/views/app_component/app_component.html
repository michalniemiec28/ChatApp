<app-header></app-header>

<app-login *ngIf="!fbService.isLogged"></app-login>

<div *ngIf="fbService.isLogged" id="chat" class="card flex layout vertical" style="overflow-y: hidden;">
  <div class="msg-container flex layout vertical" style="overflow-y: auto;" vuScrollDown>
    <!--show retrieved messages-->
    <div *ngFor="let msg of fbService.messages" class="message card layout horizontal">
      <div>
        <div class="name">{{msg.name}}</div>
        <div class="datetime">{{msg.datetime | stringToDate | date:"short"}} </div>
        <div class="text">{{msg.text}}</div>
      </div>
    </div>
  </div>

  <div id="input-container" class="card-block layout horizontal center">
    <input type="text" class="form-control" placeholder="Wiadomość..." [(ngModel)]="inputText" (keyup.enter)="sendTextMessage()"
      vuHoldFocus>
    <button class="btn btn-outline-primary" (click)="sendTextMessage()">Wyślij</button>
  </div>
</div>